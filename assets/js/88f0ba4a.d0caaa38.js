"use strict";(self.webpackChunkmithril=self.webpackChunkmithril||[]).push([[95],{8453:(e,s,i)=>{i.d(s,{R:()=>c,x:()=>r});var n=i(6540);const a={},o=n.createContext(a);function c(e){const s=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),n.createElement(o.Provider,{value:s},e.children)}},8996:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"desenvolvimento/backend","title":"Back-End","description":"Este documento descreve a arquitetura, microsservi\xe7os, endpoints, configura\xe7\xe3o e opera\xe7\xf5es do back-end do projeto Mithril. A implementa\xe7\xe3o segue um estilo de microsservi\xe7os com FastAPI e PostgreSQL (Supabase), integrando-se com contratos Soroban/Stellar documentados em Introdu\xe7\xe3o \xe0 Blockchain Stellar.","source":"@site/docs/desenvolvimento/backend.md","sourceDirName":"desenvolvimento","slug":"/desenvolvimento/backend","permalink":"/Mithril/docs/desenvolvimento/backend","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/desenvolvimento/backend.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Back-End","label":"Back-End"},"sidebar":"tutorialSidebar","previous":{"title":"Banco de Dados","permalink":"/Mithril/docs/desenvolvimento/banco-de-dados"},"next":{"title":"Documenta\xe7\xe3o T\xe9cnica \\\\- Frontend Mobile Mithril","permalink":"/Mithril/docs/desenvolvimento/segunda-vers\xe3o"}}');var a=i(4848),o=i(8453);const c={sidebar_position:4,title:"Back-End",label:"Back-End"},r=void 0,d={},l=[{value:"Vis\xe3o geral da arquitetura",id:"vis\xe3o-geral-da-arquitetura",level:2},{value:"Microsservi\xe7os",id:"microsservi\xe7os",level:2},{value:"api-autenticacao",id:"api-autenticacao",level:3},{value:"api-marketplace",id:"api-marketplace",level:3},{value:"api-gestao-credito",id:"api-gestao-credito",level:3},{value:"api-pagamentos",id:"api-pagamentos",level:3},{value:"Banco de dados",id:"banco-de-dados",level:2},{value:"Integra\xe7\xe3o com Stellar/Soroban",id:"integra\xe7\xe3o-com-stellarsoroban",level:2},{value:"Configura\xe7\xe3o e execu\xe7\xe3o local",id:"configura\xe7\xe3o-e-execu\xe7\xe3o-local",level:2},{value:"Observabilidade e sa\xfade",id:"observabilidade-e-sa\xfade",level:2},{value:"Roadmap t\xe9cnico (back-end)",id:"roadmap-t\xe9cnico-back-end",level:2}];function t(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:["Este documento descreve a arquitetura, microsservi\xe7os, endpoints, configura\xe7\xe3o e opera\xe7\xf5es do back-end do projeto Mithril. A implementa\xe7\xe3o segue um estilo de microsservi\xe7os com FastAPI e PostgreSQL (Supabase), integrando-se com contratos Soroban/Stellar documentados em ",(0,a.jsx)(s.code,{children:"Introdu\xe7\xe3o \xe0 Blockchain Stellar"}),"."]}),"\n",(0,a.jsx)(s.h2,{id:"vis\xe3o-geral-da-arquitetura",children:"Vis\xe3o geral da arquitetura"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Servi\xe7os Python (FastAPI) separados por dom\xednio: autentica\xe7\xe3o/usu\xe1rios/carteiras, marketplace de cr\xe9dito, gest\xe3o de contratos/parcelas, pagamentos/financeiro."}),"\n",(0,a.jsxs)(s.li,{children:["Banco de dados PostgreSQL gerenciado (Supabase) compartilhado, com schemas compat\xedveis com o script ",(0,a.jsx)(s.code,{children:"src/backend/banco-dados/db.sql"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:["Integra\xe7\xe3o on-chain via registros e metadados de transa\xe7\xf5es/contratos (IDs/hashes/ledger), interoperando com os contratos Rust em ",(0,a.jsx)(s.code,{children:"src/stellar/contracts"}),"."]}),"\n",(0,a.jsx)(s.li,{children:"CORS liberado para facilitar o desenvolvimento local."}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"microsservi\xe7os",children:"Microsservi\xe7os"}),"\n",(0,a.jsxs)(s.p,{children:["Abaixo, o resumo por servi\xe7o com principais rotas. Cada servi\xe7o exp\xf5e um endpoint ",(0,a.jsx)(s.code,{children:"/health"})," para verifica\xe7\xe3o."]}),"\n",(0,a.jsx)(s.h3,{id:"api-autenticacao",children:"api-autenticacao"}),"\n",(0,a.jsxs)(s.p,{children:["Caminho: ",(0,a.jsx)(s.code,{children:"src/backend/api-autenticacao/"})]}),"\n",(0,a.jsx)(s.p,{children:"Respons\xe1vel por: cadastro de usu\xe1rios, autentica\xe7\xe3o b\xe1sica (hash Bcrypt com truncamento seguro), e gest\xe3o de carteiras Stellar vinculadas ao usu\xe1rio."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Modelos: ",(0,a.jsx)(s.code,{children:"Usuario"}),", ",(0,a.jsx)(s.code,{children:"Autenticacao"}),", ",(0,a.jsx)(s.code,{children:"StellarWallet"})," (+ enum ",(0,a.jsx)(s.code,{children:"wallet_type_enum"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["DB: usa ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"})," via SQLAlchemy."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Principais endpoints:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /usuarios/"})," \u2014 cria usu\xe1rio e credenciais; retorna ",(0,a.jsx)(s.code,{children:"UsuarioResponse"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /usuarios/"})," \u2014 lista usu\xe1rios (pagina por ",(0,a.jsx)(s.code,{children:"skip"}),", ",(0,a.jsx)(s.code,{children:"limit"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /usuarios/{usuario_id}"})," \u2014 usu\xe1rio + ",(0,a.jsx)(s.code,{children:"wallets"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PUT /usuarios/{usuario_id}"})," \u2014 atualiza dados do usu\xe1rio."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DELETE /usuarios/{usuario_id}"})," \u2014 remove usu\xe1rio."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /login/"})," \u2014 autentica\xe7\xe3o por CPF e senha; retorna dados b\xe1sicos."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /wallets/"})," \u2014 cria carteira Stellar vinculada."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /wallets/"})," \u2014 lista carteiras."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /usuarios/{usuario_id}/wallets"})," \u2014 carteiras do usu\xe1rio."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /wallets/{wallet_id}"})," \u2014 detalhes da carteira."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PUT /wallets/{wallet_id}"})," \u2014 atualiza ",(0,a.jsx)(s.code,{children:"principal"}),"/",(0,a.jsx)(s.code,{children:"ativo"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DELETE /wallets/{wallet_id}"})," \u2014 remove carteira."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /health"})," \u2014 status do servi\xe7o."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Notas de seguran\xe7a:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Hash de senha com ",(0,a.jsx)(s.code,{children:"passlib[bcrypt]"})," e truncamento de 72 bytes (limite do Bcrypt) aplicado em hash e verifica\xe7\xe3o."]}),"\n",(0,a.jsx)(s.li,{children:"Bloqueio ap\xf3s 5 tentativas falhas com janela de 15 minutos."}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"api-marketplace",children:"api-marketplace"}),"\n",(0,a.jsxs)(s.p,{children:["Caminho: ",(0,a.jsx)(s.code,{children:"src/backend/api-marketplace/"})]}),"\n",(0,a.jsx)(s.p,{children:"Respons\xe1vel por: fluxo de solicita\xe7\xf5es de cr\xe9dito, ofertas de investimento e perfis (investidor/tomador)."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Entidades: ",(0,a.jsx)(s.code,{children:"SolicitacaoCredito"}),", ",(0,a.jsx)(s.code,{children:"OfertaInvestimento"}),", ",(0,a.jsx)(s.code,{children:"PerfilInvestidor"}),", ",(0,a.jsx)(s.code,{children:"PerfilTomador"})," (Enums Postgres: ",(0,a.jsx)(s.code,{children:"finalidade_credito_enum"}),", ",(0,a.jsx)(s.code,{children:"status_solicitacao_enum"}),", ",(0,a.jsx)(s.code,{children:"status_oferta_enum"}),", ",(0,a.jsx)(s.code,{children:"perfil_risco_enum"}),", ",(0,a.jsx)(s.code,{children:"ocupacao_enum"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["DB: ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Principais endpoints:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /solicitacoes-credito/"})," \u2014 cria solicita\xe7\xe3o com finalidade, prazo e valor."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /solicitacoes-credito/"})," \u2014 lista solicita\xe7\xf5es."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /solicitacoes-credito/{solicitacao_id}"})," \u2014 detalhe."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PUT /solicitacoes-credito/{solicitacao_id}"})," \u2014 atualiza campos."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PATCH /solicitacoes-credito/{solicitacao_id}/status"})," \u2014 altera status (marca ",(0,a.jsx)(s.code,{children:"respondido_em"})," quando terminal)."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /ofertas-investimento/"})," \u2014 cria oferta vinculada a solicita\xe7\xe3o; ",(0,a.jsx)(s.code,{children:"expira_em"})," padr\xe3o em 7 dias."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /ofertas-investimento/"})," \u2014 lista ofertas."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /ofertas-investimento/{oferta_id}"})," \u2014 detalhe."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PATCH /ofertas-investimento/{oferta_id}/status"})," \u2014 atualiza status."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /perfis-investidor/"})," | ",(0,a.jsx)(s.code,{children:"GET/PUT /perfis-investidor/{usuario_id}"})," \u2014 perfil do investidor."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /perfis-tomador/"})," | ",(0,a.jsx)(s.code,{children:"GET/PUT /perfis-tomador/{usuario_id}"})," \u2014 perfil do tomador."]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"api-gestao-credito",children:"api-gestao-credito"}),"\n",(0,a.jsxs)(s.p,{children:["Caminho: ",(0,a.jsx)(s.code,{children:"src/backend/api-gestao-credito/"})]}),"\n",(0,a.jsx)(s.p,{children:"Respons\xe1vel por: gest\xe3o de contratos e parcelas, com refer\xeancia opcional a smart contracts (Soroban) e transa\xe7\xf5es Stellar."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Entidades: ",(0,a.jsx)(s.code,{children:"SmartContract"}),", ",(0,a.jsx)(s.code,{children:"Contrato"}),", ",(0,a.jsx)(s.code,{children:"Parcela"})," (Enums: ",(0,a.jsx)(s.code,{children:"rede_blockchain_enum"}),", ",(0,a.jsx)(s.code,{children:"status_contrato_enum"}),", ",(0,a.jsx)(s.code,{children:"status_parcela_enum"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["DB: ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Principais endpoints:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /smart-contracts/"})," | ",(0,a.jsx)(s.code,{children:"GET /smart-contracts/"})," | ",(0,a.jsx)(s.code,{children:"GET/PUT/DELETE /smart-contracts/{contract_id}"})," \u2014 CRUD metadados de contratos on-chain."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /contratos/"})," | ",(0,a.jsx)(s.code,{children:"GET /contratos/"})," | ",(0,a.jsx)(s.code,{children:"GET/PUT /contratos/{contrato_id}"})," \u2014 CRUD de contratos (convers\xe3o de strings para UUIDs ao salvar/atualizar)."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PATCH /contratos/{contrato_id}/status"})," \u2014 altera status."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DELETE /contratos/{contrato_id}"})," \u2014 remove contrato."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST /parcelas/"})," | ",(0,a.jsx)(s.code,{children:"GET /parcelas/"})," | ",(0,a.jsx)(s.code,{children:"GET /parcelas/{parcela_id}"})," \u2014 CRUD de parcelas."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /contratos/{contrato_id}/parcelas"})," \u2014 lista parcelas do contrato."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PUT /parcelas/{parcela_id}"})," \u2014 atualiza parcela."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PATCH /parcelas/{parcela_id}/status"})," \u2014 altera status da parcela."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"PATCH /parcelas/{parcela_id}/pagamento"})," \u2014 registra pagamento, define ",(0,a.jsx)(s.code,{children:"status=PAGO"}),", opcional ",(0,a.jsx)(s.code,{children:"stellar_tx_id"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"DELETE /parcelas/{parcela_id}"})," \u2014 remove parcela."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /health"})," \u2014 status do servi\xe7o."]}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"api-pagamentos",children:"api-pagamentos"}),"\n",(0,a.jsxs)(s.p,{children:["Caminho: ",(0,a.jsx)(s.code,{children:"src/backend/api-pagamentos/"})]}),"\n",(0,a.jsx)(s.p,{children:"Respons\xe1vel por: registro de transa\xe7\xf5es Stellar, PIX, movimenta\xe7\xf5es financeiras internas, convers\xf5es cambiais e configura\xe7\xe3o de taxas."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Entidades: ",(0,a.jsx)(s.code,{children:"TransacaoStellar"}),", ",(0,a.jsx)(s.code,{children:"MovimentacaoFinanceira"}),", ",(0,a.jsx)(s.code,{children:"TransacaoPix"}),", ",(0,a.jsx)(s.code,{children:"ConversaoCambial"}),", ",(0,a.jsx)(s.code,{children:"FeeConfig"})," (Enums: ",(0,a.jsx)(s.code,{children:"status_transacao_enum"}),", ",(0,a.jsx)(s.code,{children:"tipo_transacao_enum"}),", ",(0,a.jsx)(s.code,{children:"tipo_movimentacao_enum"}),", ",(0,a.jsx)(s.code,{children:"tipo_pix_enum"}),", ",(0,a.jsx)(s.code,{children:"status_pix_enum"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:["DB: ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Principais endpoints:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST/GET/GET:id/PUT:status /transacoes-stellar"})," \u2014 cria, lista, consulta e atualiza status (marca ",(0,a.jsx)(s.code,{children:"confirmado_em"}),")."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST/GET /movimentacoes-financeiras"})," e ",(0,a.jsx)(s.code,{children:"GET /movimentacoes-financeiras/usuario/{usuario_id}"})," \u2014 movimenta\xe7\xf5es."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST/GET/GET:id/PUT:status /transacoes-pix"})," \u2014 fluxo PIX."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST/GET"})," e ",(0,a.jsx)(s.code,{children:"GET /conversoes-cambiais/usuario/{usuario_id}"})," \u2014 convers\xf5es."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"POST/GET/GET:{tipo}/PUT:{tipo} /fee-config"})," \u2014 configura\xe7\xe3o de taxas com atualiza\xe7\xe3o de ",(0,a.jsx)(s.code,{children:"atualizado_em"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /health"})," \u2014 status do servi\xe7o."]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"banco-de-dados",children:"Banco de dados"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Configura\xe7\xe3o via vari\xe1vel ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"})," (DSN do PostgreSQL). Consulte o documento ",(0,a.jsx)(s.code,{children:"Banco de Dados"})," para entidades, enums, \xedndices, views, fun\xe7\xf5es e seeds iniciais. O script mestre est\xe1 em ",(0,a.jsx)(s.code,{children:"src/backend/banco-dados/db.sql"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:["As tabelas e enums citados nos servi\xe7os alinham-se com o diagrama ",(0,a.jsx)(s.code,{children:"/img/db.svg"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"integra\xe7\xe3o-com-stellarsoroban",children:"Integra\xe7\xe3o com Stellar/Soroban"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"api-gestao-credito"})," referencia ",(0,a.jsx)(s.code,{children:"smart_contract_id"})," e ",(0,a.jsx)(s.code,{children:"stellar_tx_id"})," em ",(0,a.jsx)(s.code,{children:"Contrato"}),"/",(0,a.jsx)(s.code,{children:"Parcela"}),"."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"api-pagamentos"})," armazena ",(0,a.jsx)(s.code,{children:"transacao_stellar"})," com ",(0,a.jsx)(s.code,{children:"ledger_sequence"}),", ",(0,a.jsx)(s.code,{children:"smart_contract_id"})," e metadados."]}),"\n",(0,a.jsxs)(s.li,{children:["Scripts e contratos est\xe3o em ",(0,a.jsx)(s.code,{children:"src/stellar/contracts"})," (ver documenta\xe7\xe3o espec\xedfica em ",(0,a.jsx)(s.code,{children:"Implementa\xe7\xe3o de Blockchain Stellar"}),")."]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"configura\xe7\xe3o-e-execu\xe7\xe3o-local",children:"Configura\xe7\xe3o e execu\xe7\xe3o local"}),"\n",(0,a.jsx)(s.p,{children:"Pr\xe9-requisitos:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Python 3.11+"}),"\n",(0,a.jsxs)(s.li,{children:["PostgreSQL gerenciado (Supabase) e vari\xe1vel ",(0,a.jsx)(s.code,{children:"SUPABASE_URL"})," v\xe1lida."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Instala\xe7\xe3o (por servi\xe7o):"}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.code,{children:"cd src/backend/<servi\xe7o>"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.code,{children:"pip install -r requirements.txt"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.code,{children:"uvicorn src.main:app --reload --port <porta>"})}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Portas sugeridas:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Autentica\xe7\xe3o: 8000"}),"\n",(0,a.jsx)(s.li,{children:"Pagamentos: 8001"}),"\n",(0,a.jsx)(s.li,{children:"Gest\xe3o de Cr\xe9dito: 8002"}),"\n",(0,a.jsx)(s.li,{children:"Marketplace: 8003"}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["CORS: habilitado com ",(0,a.jsx)(s.code,{children:'allow_origins=["*"]'})," nos servi\xe7os que exp\xf5em UI/consumo direto."]}),"\n",(0,a.jsx)(s.h2,{id:"observabilidade-e-sa\xfade",children:"Observabilidade e sa\xfade"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.code,{children:"GET /health"})," dispon\xedvel em todos os servi\xe7os."]}),"\n",(0,a.jsx)(s.li,{children:"Log padr\xe3o do Uvicorn/Starlette."}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"roadmap-t\xe9cnico-back-end",children:"Roadmap t\xe9cnico (back-end)"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Autoriza\xe7\xe3o/bearer tokens (JWT) entre servi\xe7os e clientes."}),"\n",(0,a.jsx)(s.li,{children:"Webhooks/ass\xedncrono para confirma\xe7\xe3o on-chain/PIX."}),"\n",(0,a.jsx)(s.li,{children:"Servi\xe7os de orquestra\xe7\xe3o para funding autom\xe1tico e reconcilia\xe7\xe3o financeira."}),"\n",(0,a.jsx)(s.li,{children:"Observabilidade aprimorada (m\xe9tricas, tracing distribu\xeddo) e pol\xedticas de rate limit."}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}}}]);